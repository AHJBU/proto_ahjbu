import{r as x,j as e,t as u}from"./index-CEFGCZnp.js";import{A as Q}from"./AdminLayout-BFo7kI8c.js";import{B as n}from"./button-C58ynU3B.js";import{I as o}from"./input-DqKHY6Ez.js";import{T as Y,a as Z,b as N,c as h,d as _,e as d}from"./table-Ctc4k8fS.js";import{C as v,a as f,c as ee,d as se}from"./card-DsqFjwao.js";import{B as D}from"./badge-BQVUS7r0.js";import{D as O,b as U,c as I,d as M,e as L}from"./dialog-CF5yEXG4.js";import{L as i}from"./label-C9OSIm7g.js";import{T as te}from"./textarea-B8Ku1Xn0.js";import{S as w,a as C,b as T,c as S,d as p}from"./select-DAOFtx9-.js";import{S as ae}from"./search-B6zhR9QM.js";import{P as ie}from"./plus-CZOBiviS.js";import{C as re}from"./calendar-8sjuA-jc.js";import{U as le}from"./users-DLZwGyT7.js";import{C as ne}from"./clock-DB87Vs4Z.js";import{E as oe}from"./eye-BQ_UEY2C.js";import{S as de}from"./square-pen-CxSvTE7a.js";import{T as ce}from"./trash-2-PDkc7qqn.js";import"./index-CULbYOlY.js";import"./image-BSShWM4Y.js";import"./user-DmvOLSi9.js";import"./index-BdQq_4o_.js";import"./index-DdPWxvf5.js";import"./index-Cxzs49dU.js";import"./check-DnlIeJCj.js";const he=[{id:1,title:"Modern Web Development with React",category:"webDev",level:"intermediate",duration:"24 hours",registrations:45,status:"active",lastUpdated:"2025-04-15",description:"Learn modern web development using React, hooks, context API, and more.",price:499,location:"Online",startDate:"2025-05-15",maxRegistrations:50},{id:2,title:"UX/UI Design Fundamentals",category:"design",level:"beginner",duration:"16 hours",registrations:32,status:"active",lastUpdated:"2025-04-10",description:"Master the basics of UX/UI design with practical exercises and real-world projects.",price:399,location:"Riyadh, Saudi Arabia",startDate:"2025-05-20",maxRegistrations:40},{id:3,title:"Mobile App Development with Flutter",category:"mobileDev",level:"intermediate",duration:"30 hours",registrations:28,status:"active",lastUpdated:"2025-04-05",description:"Build cross-platform mobile apps using Flutter and Dart programming language.",price:599,location:"Online",startDate:"2025-06-01",maxRegistrations:35},{id:4,title:"Social Media Marketing Strategies",category:"social",level:"beginner",duration:"12 hours",registrations:50,status:"draft",lastUpdated:"2025-04-02",description:"Develop effective social media marketing strategies for businesses.",price:299,location:"Jeddah, Saudi Arabia",startDate:"2025-06-10",maxRegistrations:60},{id:5,title:"Advanced Backend Development with Node.js",category:"webDev",level:"advanced",duration:"20 hours",registrations:18,status:"completed",lastUpdated:"2025-03-28",description:"Master advanced backend development concepts using Node.js, Express, and MongoDB.",price:549,location:"Online",startDate:"2025-04-01",maxRegistrations:30}],R={webDev:"Web Development",mobileDev:"Mobile Development",design:"Design",social:"Social Media",other:"Other"},B={beginner:"Beginner",intermediate:"Intermediate",advanced:"Advanced"},Ee=()=>{const[r,y]=x.useState(he),[b,E]=x.useState(""),[V,g]=x.useState(!1),[P,j]=x.useState(!1),[t,c]=x.useState(null),[A,k]=x.useState(null),H={title:"",category:"webDev",level:"intermediate",duration:"",registrations:0,status:"draft",description:"",price:0,location:"",startDate:"",maxRegistrations:30},F=r.filter(s=>s.title.toLowerCase().includes(b.toLowerCase())||R[s.category].toLowerCase().includes(b.toLowerCase())),W=s=>{switch(s){case"active":return"default";case"draft":return"bg-yellow-100 text-yellow-800 hover:bg-yellow-100/80 dark:bg-yellow-900/30 dark:text-yellow-300";case"completed":return"bg-green-100 text-green-800 hover:bg-green-100/80 dark:bg-green-900/30 dark:text-green-300";default:return"outline"}},$=()=>{c({...H}),g(!0)},z=s=>{const a=r.find(m=>m.id===s);a&&(c({id:a.id,title:a.title,category:a.category,level:a.level,duration:a.duration,registrations:a.registrations,status:a.status,description:a.description,price:a.price,location:a.location,startDate:a.startDate,maxRegistrations:a.maxRegistrations}),g(!0))},l=s=>{const{name:a,value:m,type:K}=s.target;t&&c(K==="number"?{...t,[a]:parseFloat(m)}:{...t,[a]:m})},q=()=>{if(t){if(!t.title){u({title:"Validation Error",description:"Training title is required",variant:"destructive"});return}if(t.id)y(r.map(s=>s.id===t.id?{...s,...t,lastUpdated:new Date().toISOString().split("T")[0]}:s)),u({title:"Training Updated",description:`"${t.title}" has been updated.`});else{const s={...t,id:Math.max(...r.map(a=>a.id))+1,lastUpdated:new Date().toISOString().split("T")[0]};y([s,...r]),u({title:"Training Added",description:`"${t.title}" has been added.`})}g(!1)}},X=s=>{k(s),j(!0)},J=()=>{A&&(y(r.filter(s=>s.id!==A)),u({title:"Training Deleted",description:"The training has been deleted successfully."}),j(!1),k(null))},G=s=>{const a=r.find(m=>m.id===s);u({title:"View Registrations",description:`Viewing ${a==null?void 0:a.registrations} registrations for "${a==null?void 0:a.title}"`})};return e.jsxs(Q,{title:"Training & Workshops",children:[e.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4 justify-between",children:[e.jsxs("div",{className:"relative w-full sm:w-64",children:[e.jsx(ae,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(o,{placeholder:"Search trainings...",className:"pl-10 w-full",value:b,onChange:s=>E(s.target.value)})]}),e.jsxs(n,{onClick:$,children:[e.jsx(ie,{className:"mr-2 h-4 w-4"}),"Add New Training"]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 mb-6",children:[e.jsx(v,{children:e.jsx(f,{className:"p-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Trainings"}),e.jsx("p",{className:"text-3xl font-bold",children:r.filter(s=>s.status==="active").length})]}),e.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(re,{className:"h-6 w-6 text-primary"})})]})})}),e.jsx(v,{children:e.jsx(f,{className:"p-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Registrations"}),e.jsx("p",{className:"text-3xl font-bold",children:r.reduce((s,a)=>s+a.registrations,0)})]}),e.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(le,{className:"h-6 w-6 text-primary"})})]})})}),e.jsx(v,{children:e.jsx(f,{className:"p-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Training Hours"}),e.jsx("p",{className:"text-3xl font-bold",children:r.reduce((s,a)=>s+parseInt(a.duration.split(" ")[0]),0)})]}),e.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(ne,{className:"h-6 w-6 text-primary"})})]})})})]}),e.jsxs(v,{children:[e.jsx(ee,{children:e.jsx(se,{children:"Training Courses & Workshops"})}),e.jsx(f,{children:e.jsxs(Y,{children:[e.jsx(Z,{children:e.jsxs(N,{children:[e.jsx(h,{children:"Title"}),e.jsx(h,{children:"Category"}),e.jsx(h,{children:"Level"}),e.jsx(h,{children:"Duration"}),e.jsx(h,{children:"Registrations"}),e.jsx(h,{children:"Status"}),e.jsx(h,{className:"text-right",children:"Actions"})]})}),e.jsx(_,{children:F.length>0?F.map(s=>e.jsxs(N,{children:[e.jsx(d,{className:"font-medium",children:s.title}),e.jsx(d,{children:e.jsx(D,{variant:"outline",children:R[s.category]||s.category})}),e.jsx(d,{children:e.jsx(D,{variant:"secondary",children:B[s.level]||s.level})}),e.jsx(d,{children:s.duration}),e.jsx(d,{children:s.registrations}),e.jsx(d,{children:e.jsx(D,{variant:s.status==="active"?"default":"outline",className:W(s.status),children:s.status})}),e.jsx(d,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsxs(n,{variant:"ghost",size:"icon",onClick:()=>G(s.id),children:[e.jsx(oe,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"View Registrations"})]}),e.jsxs(n,{variant:"ghost",size:"icon",onClick:()=>z(s.id),children:[e.jsx(de,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Edit"})]}),e.jsxs(n,{variant:"ghost",size:"icon",onClick:()=>X(s.id),children:[e.jsx(ce,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Delete"})]})]})})]},s.id)):e.jsx(N,{children:e.jsx(d,{colSpan:7,className:"text-center p-4",children:"No trainings found"})})})]})})]}),e.jsx(O,{open:V,onOpenChange:g,children:e.jsxs(U,{className:"sm:max-w-[600px]",children:[e.jsx(I,{children:e.jsx(M,{children:t!=null&&t.id?"Edit Training":"Add New Training"})}),t&&e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"title",children:"Title"}),e.jsx(o,{id:"title",name:"title",value:t.title,onChange:l,placeholder:"Training title"})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"category",children:"Category"}),e.jsxs(w,{value:t.category,onValueChange:s=>c({...t,category:s}),children:[e.jsx(C,{children:e.jsx(T,{placeholder:"Select category"})}),e.jsx(S,{children:Object.entries(R).map(([s,a])=>e.jsx(p,{value:s,children:a},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"level",children:"Level"}),e.jsxs(w,{value:t.level,onValueChange:s=>c({...t,level:s}),children:[e.jsx(C,{children:e.jsx(T,{placeholder:"Select level"})}),e.jsx(S,{children:Object.entries(B).map(([s,a])=>e.jsx(p,{value:s,children:a},s))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"duration",children:"Duration"}),e.jsx(o,{id:"duration",name:"duration",value:t.duration,onChange:l,placeholder:"e.g. 24 hours"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"price",children:"Price"}),e.jsx(o,{id:"price",name:"price",type:"number",value:t.price,onChange:l,placeholder:"Price in SAR"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"location",children:"Location"}),e.jsx(o,{id:"location",name:"location",value:t.location,onChange:l,placeholder:"e.g. Online or City, Country"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"startDate",children:"Start Date"}),e.jsx(o,{id:"startDate",name:"startDate",type:"date",value:t.startDate,onChange:l})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"status",children:"Status"}),e.jsxs(w,{value:t.status,onValueChange:s=>c({...t,status:s}),children:[e.jsx(C,{children:e.jsx(T,{placeholder:"Select status"})}),e.jsxs(S,{children:[e.jsx(p,{value:"draft",children:"Draft"}),e.jsx(p,{value:"active",children:"Active"}),e.jsx(p,{value:"completed",children:"Completed"}),e.jsx(p,{value:"cancelled",children:"Cancelled"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"maxRegistrations",children:"Maximum Registrations"}),e.jsx(o,{id:"maxRegistrations",name:"maxRegistrations",type:"number",value:t.maxRegistrations,onChange:l})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"description",children:"Description"}),e.jsx(te,{id:"description",name:"description",value:t.description,onChange:l,rows:5,placeholder:"Describe the training content, objectives, and target audience"})]}),t.id&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(i,{htmlFor:"registrations",className:"flex-grow",children:"Current Registrations"}),e.jsx(o,{id:"registrations",name:"registrations",type:"number",value:t.registrations,onChange:l,className:"w-24"})]})]}),e.jsxs(L,{children:[e.jsx(n,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),e.jsx(n,{onClick:q,children:t!=null&&t.id?"Save Changes":"Add Training"})]})]})}),e.jsx(O,{open:P,onOpenChange:j,children:e.jsxs(U,{children:[e.jsx(I,{children:e.jsx(M,{children:"Confirm Deletion"})}),e.jsx("p",{children:"Are you sure you want to delete this training? This action cannot be undone."}),e.jsxs(L,{children:[e.jsx(n,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),e.jsx(n,{variant:"destructive",onClick:J,children:"Delete"})]})]})})]})};export{Ee as default};
