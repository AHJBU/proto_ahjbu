import{J as G,r as o,j as e}from"./index-CEFGCZnp.js";import{A as X}from"./AdminLayout-BFo7kI8c.js";import{B as n}from"./button-C58ynU3B.js";import{I as j}from"./input-DqKHY6Ez.js";import{T as Z,a as ee,b as F,c,d as te,e as m}from"./table-Ctc4k8fS.js";import{C as N,a as w,c as se,d as ae}from"./card-DsqFjwao.js";import{B as L}from"./badge-BQVUS7r0.js";import{D as A,b as D,c as S,d as I,e as O}from"./dialog-CF5yEXG4.js";import{T as ie}from"./textarea-B8Ku1Xn0.js";import{L as u}from"./label-C9OSIm7g.js";import{S as le}from"./switch-D9dv8vKo.js";import{S as re}from"./scroll-area-DpfMkBU7.js";import{S as ne}from"./search-B6zhR9QM.js";import{P as E}from"./plus-CZOBiviS.js";import{C as U}from"./calendar-8sjuA-jc.js";import{I as b}from"./image-BSShWM4Y.js";import{S as de}from"./square-pen-CxSvTE7a.js";import{T as B}from"./trash-2-PDkc7qqn.js";import"./index-CULbYOlY.js";import"./users-DLZwGyT7.js";import"./user-DmvOLSi9.js";import"./index-Cxzs49dU.js";import"./index-DdPWxvf5.js";import"./index-BdQq_4o_.js";const oe=[{id:1,title:"Best Designer of the Year Award",category:"Award",date:"2023-06-15",location:"Dubai, UAE",description:"Received the Best Designer of the Year Award at the Annual Design Summit for outstanding contributions to the field of digital design.",featured:!0,imagesCount:5},{id:2,title:"Advanced Web Development Certification",category:"Certification",date:"2022-11-30",location:"Online",featured:!1,imagesCount:2},{id:3,title:'Best App Award for "Smart Assistant"',category:"Award",date:"2021-09-22",location:"San Francisco, USA",featured:!0,imagesCount:3},{id:4,title:"Keynote Speaker at Web Tech Conference",category:"Recognition",date:"2023-03-15",location:"London, UK",featured:!1,imagesCount:4},{id:5,title:"Digital Transformation Project Success",category:"Success Story",date:"2022-07-10",location:"Riyadh, KSA",featured:!0,imagesCount:6}],Ee=()=>{const{toast:h}=G(),[l,g]=o.useState(oe),[p,R]=o.useState(""),[P,f]=o.useState(!1),[z,v]=o.useState(!1),[H,T]=o.useState(!1),[i,y]=o.useState(null),[s,d]=o.useState({title:"",category:"",date:"",location:"",description:"",featured:!1}),M=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),$=t=>{const a=l.find(r=>r.id===t);a&&(y(a),d({title:a.title,category:a.category,date:a.date,location:a.location,description:a.description||"",featured:a.featured}),f(!0))},q=t=>{const a=l.find(r=>r.id===t);a&&(y(a),v(!0))},K=t=>{const a=l.find(r=>r.id===t);a&&(y(a),T(!0))},Y=()=>{y(null),d({title:"",category:"",date:new Date().toISOString().split("T")[0],location:"",description:"",featured:!1}),f(!0)},Q=()=>{if(!s.title||!s.category||!s.date||!s.location){h({title:"Validation Error",description:"Please fill all required fields",variant:"destructive"});return}if(i){const t=l.map(a=>a.id===i.id?{...a,title:s.title,category:s.category,date:s.date,location:s.location,description:s.description,featured:s.featured}:a);g(t),h({title:"Achievement Updated",description:`${s.title} has been updated successfully`})}else{const t={id:Math.max(0,...l.map(a=>a.id))+1,title:s.title,category:s.category,date:s.date,location:s.location,description:s.description,featured:s.featured,imagesCount:0};g([...l,t]),h({title:"Achievement Added",description:`${s.title} has been added successfully`})}f(!1)},W=()=>{i&&(g(l.filter(t=>t.id!==i.id)),h({title:"Achievement Deleted",description:`${i.title} has been deleted`}),v(!1))},k=()=>{if(!i)return;const t=document.createElement("input");t.type="file",t.accept="image/*",t.multiple=!0,t.onchange=a=>{const r=a.target.files;if(r&&r.length>0){const x=l.map(C=>C.id===i.id?{...C,imagesCount:C.imagesCount+r.length}:C);g(x),h({title:"Images Uploaded",description:`${r.length} images have been uploaded`})}},t.click()},J=l.filter(t=>t.title.toLowerCase().includes(p.toLowerCase())||t.category.toLowerCase().includes(p.toLowerCase())||t.location.toLowerCase().includes(p.toLowerCase())),V=l.reduce((t,a)=>t+a.imagesCount,0),_=l.filter(t=>t.featured).length;return e.jsxs(X,{title:"Achievements & Success Stories",children:[e.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4 justify-between",children:[e.jsxs("div",{className:"relative w-full sm:w-64",children:[e.jsx(ne,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(j,{placeholder:"Search achievements...",className:"pl-10 w-full",value:p,onChange:t=>R(t.target.value)})]}),e.jsxs(n,{onClick:Y,children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),"Add New Achievement"]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 mb-6",children:[e.jsx(N,{children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Achievements"}),e.jsx("p",{className:"text-3xl font-bold",children:l.length})]}),e.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(U,{className:"h-6 w-6 text-primary"})})]})})}),e.jsx(N,{children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Featured Items"}),e.jsx("p",{className:"text-3xl font-bold",children:_})]}),e.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(U,{className:"h-6 w-6 text-primary"})})]})})}),e.jsx(N,{children:e.jsx(w,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Images"}),e.jsx("p",{className:"text-3xl font-bold",children:V})]}),e.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(b,{className:"h-6 w-6 text-primary"})})]})})})]}),e.jsxs(N,{children:[e.jsx(se,{className:"pb-3",children:e.jsx(ae,{children:"Achievements & Success Stories"})}),e.jsx(w,{children:e.jsxs(Z,{children:[e.jsx(ee,{children:e.jsxs(F,{children:[e.jsx(c,{children:"Title"}),e.jsx(c,{children:"Category"}),e.jsx(c,{children:"Date"}),e.jsx(c,{children:"Location"}),e.jsx(c,{children:"Featured"}),e.jsx(c,{children:"Images"}),e.jsx(c,{className:"text-right",children:"Actions"})]})}),e.jsx(te,{children:J.map(t=>e.jsxs(F,{children:[e.jsx(m,{className:"font-medium",children:t.title}),e.jsx(m,{children:e.jsx(L,{variant:"outline",children:t.category})}),e.jsx(m,{children:M(t.date)}),e.jsx(m,{children:t.location}),e.jsx(m,{children:e.jsx(L,{variant:t.featured?"default":"outline",children:t.featured?"Featured":"Regular"})}),e.jsx(m,{children:t.imagesCount}),e.jsx(m,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsxs(n,{variant:"ghost",size:"icon",onClick:()=>K(t.id),children:[e.jsx(b,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Images"})]}),e.jsxs(n,{variant:"ghost",size:"icon",onClick:()=>$(t.id),children:[e.jsx(de,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Edit"})]}),e.jsxs(n,{variant:"ghost",size:"icon",onClick:()=>q(t.id),children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Delete"})]})]})})]},t.id))})]})})]}),e.jsx(A,{open:P,onOpenChange:f,children:e.jsxs(D,{className:"sm:max-w-md",children:[e.jsx(S,{children:e.jsx(I,{children:i?"Edit Achievement":"Add New Achievement"})}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(u,{htmlFor:"title",children:"Title*"}),e.jsx(j,{id:"title",value:s.title,onChange:t=>d({...s,title:t.target.value}),placeholder:"Enter achievement title"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(u,{htmlFor:"category",children:"Category*"}),e.jsx(j,{id:"category",value:s.category,onChange:t=>d({...s,category:t.target.value}),placeholder:"Award, Certification, Recognition, etc."})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(u,{htmlFor:"date",children:"Date*"}),e.jsx(j,{id:"date",type:"date",value:s.date,onChange:t=>d({...s,date:t.target.value})})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(u,{htmlFor:"location",children:"Location*"}),e.jsx(j,{id:"location",value:s.location,onChange:t=>d({...s,location:t.target.value}),placeholder:"City, Country or Online"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(u,{htmlFor:"description",children:"Description"}),e.jsx(ie,{id:"description",value:s.description,onChange:t=>d({...s,description:t.target.value}),placeholder:"Enter a description",rows:3})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(u,{htmlFor:"featured",children:"Featured Achievement"}),e.jsx(le,{id:"featured",checked:s.featured,onCheckedChange:t=>d({...s,featured:t})})]})]}),e.jsxs(O,{children:[e.jsx(n,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),e.jsx(n,{onClick:Q,children:"Save"})]})]})}),e.jsx(A,{open:z,onOpenChange:v,children:e.jsxs(D,{className:"sm:max-w-md",children:[e.jsx(S,{children:e.jsx(I,{children:"Confirm Deletion"})}),e.jsxs("p",{children:['Are you sure you want to delete "',i==null?void 0:i.title,'"? This action cannot be undone.']}),e.jsxs(O,{children:[e.jsx(n,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),e.jsx(n,{variant:"destructive",onClick:W,children:"Delete"})]})]})}),e.jsx(A,{open:H,onOpenChange:T,children:e.jsxs(D,{className:"sm:max-w-xl",children:[e.jsx(S,{children:e.jsxs(I,{children:["Manage Images: ",i==null?void 0:i.title]})}),e.jsxs("div",{className:"py-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Total Images: ",(i==null?void 0:i.imagesCount)||0]}),e.jsxs(n,{onClick:k,children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),"Upload Images"]})]}),e.jsx(re,{className:"h-72 border rounded-md p-4",children:i&&i.imagesCount>0?e.jsx("div",{className:"grid grid-cols-3 gap-3",children:Array.from({length:i.imagesCount}).map((t,a)=>e.jsxs("div",{className:"relative aspect-square bg-muted rounded-md flex items-center justify-center",children:[e.jsx(b,{className:"h-8 w-8 text-muted-foreground"}),e.jsx(n,{size:"icon",variant:"destructive",className:"h-6 w-6 absolute top-1 right-1 opacity-80 hover:opacity-100",onClick:()=>{if(i){const r=l.map(x=>x.id===i.id?{...x,imagesCount:Math.max(0,x.imagesCount-1)}:x);g(r),h({title:"Image Deleted",description:"The image has been removed"})}},children:e.jsx(B,{className:"h-3 w-3"})})]},a))}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[e.jsx(b,{className:"h-16 w-16 text-muted-foreground mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No images uploaded yet"}),e.jsx(n,{variant:"outline",className:"mt-4",onClick:k,children:"Upload Your First Image"})]})})]})]})})]})};export{Ee as default};
