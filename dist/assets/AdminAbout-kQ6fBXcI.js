import{J as V,r as t,j as e}from"./index-CEFGCZnp.js";import{A as p}from"./AdminLayout-BFo7kI8c.js";import{B as j}from"./button-C58ynU3B.js";import{I as Q}from"./input-DqKHY6Ez.js";import{T as n}from"./textarea-B8Ku1Xn0.js";import{C as o,c as l,d as c,a as d}from"./card-DsqFjwao.js";import{L as i}from"./label-C9OSIm7g.js";import{T as q,a as B,b as v,c as g}from"./tabs-BoUARueK.js";import{a as J,u as P}from"./contentService-homc20vQ.js";import{U as k}from"./upload-Dobc1O8K.js";import{P as z}from"./plus-CZOBiviS.js";import"./dialog-CF5yEXG4.js";import"./index-CULbYOlY.js";import"./search-B6zhR9QM.js";import"./users-DLZwGyT7.js";import"./calendar-8sjuA-jc.js";import"./image-BSShWM4Y.js";import"./user-DmvOLSi9.js";import"./index-CclG9uEl.js";import"./index-DdPWxvf5.js";const de=()=>{const{toast:h}=V(),[L,y]=t.useState(null),[a,m]=t.useState(!0),[f,x]=t.useState(null),[b,N]=t.useState(""),[A,E]=t.useState(""),[S,C]=t.useState(""),[I,D]=t.useState(""),[M,F]=t.useState(""),[T,U]=t.useState(""),[u,w]=t.useState("");t.useEffect(()=>{(async()=>{try{m(!0);const r=await J();y(r),r&&(N(r.content||"Default intro EN"),E("Default intro AR"),C("Default story EN"),D("Default story AR"),F("Default vision EN"),U("Default vision AR"),w(r.imageUrl||"/placeholder.svg"))}catch(r){x("Failed to load about data."),console.error(r)}finally{m(!1)}})()},[]);const R=async()=>{const s={title:"About Me Updated",content:JSON.stringify({introduction:{en:b,ar:A},story:{en:S,ar:I},vision:{en:M,ar:T}}),imageUrl:u};try{m(!0),await P(s)?(y(s),h({title:"Success",description:"About page content updated successfully."})):(x("Failed to save about data."),h({variant:"destructive",title:"Error",description:"Failed to save about data."}))}catch(r){x("An error occurred while saving."),h({variant:"destructive",title:"Error",description:"An error occurred while saving."}),console.error(r)}finally{m(!1)}};return a&&!L?e.jsx(p,{title:"About Me",children:e.jsx("p",{children:"Loading content..."})}):f?e.jsx(p,{title:"About Me",children:e.jsxs("p",{children:["Error: ",f]})}):e.jsx(p,{title:"About Me",children:e.jsxs(q,{defaultValue:"content",children:[e.jsxs(B,{className:"mb-6",children:[e.jsx(v,{value:"content",children:"Content"}),e.jsx(v,{value:"media",children:"Media"}),e.jsx(v,{value:"quotes",children:"Quotes"})]}),e.jsxs(g,{value:"content",className:"space-y-6",children:[e.jsxs(o,{children:[e.jsx(l,{children:e.jsx(c,{children:"Introduction"})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"intro-en",children:"Introduction (English)"}),e.jsx(n,{id:"intro-en",placeholder:"Enter your introduction in English",className:"min-h-[100px]",value:b,onChange:s=>N(s.target.value),disabled:a})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"intro-ar",children:"Introduction (Arabic)"}),e.jsx(n,{id:"intro-ar",placeholder:"Enter your introduction in Arabic",className:"min-h-[100px]",value:A,onChange:s=>E(s.target.value),disabled:a})]})]})]}),e.jsxs(o,{children:[e.jsx(l,{children:e.jsx(c,{children:"My Story"})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"story-en",children:"My Story (English)"}),e.jsx(n,{id:"story-en",placeholder:"Enter your story in English",className:"min-h-[200px]",value:S,onChange:s=>C(s.target.value),disabled:a})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"story-ar",children:"My Story (Arabic)"}),e.jsx(n,{id:"story-ar",placeholder:"Enter your story in Arabic",className:"min-h-[200px]",value:I,onChange:s=>D(s.target.value),disabled:a})]})]})]}),e.jsxs(o,{children:[e.jsx(l,{children:e.jsx(c,{children:"My Vision"})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"vision-en",children:"Vision (English)"}),e.jsx(n,{id:"vision-en",placeholder:"Enter your vision in English",className:"min-h-[100px]",value:M,onChange:s=>F(s.target.value),disabled:a})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"vision-ar",children:"Vision (Arabic)"}),e.jsx(n,{id:"vision-ar",placeholder:"Enter your vision in Arabic",className:"min-h-[100px]",value:T,onChange:s=>U(s.target.value),disabled:a})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(j,{onClick:R,disabled:a,children:a?"Saving...":"Save Changes"})})]}),e.jsx(g,{value:"media",className:"space-y-6",children:e.jsxs(o,{children:[e.jsx(l,{children:e.jsx(c,{children:"Main Image"})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"main-image-url",children:"Main Image URL"}),e.jsx(Q,{id:"main-image-url",placeholder:"Enter URL for the main image",value:u,onChange:s=>w(s.target.value),disabled:a})]}),u&&e.jsx("img",{src:u,alt:"Main visual",className:"mt-2 rounded-md max-h-60"}),e.jsx("div",{className:"border-2 border-dashed rounded-lg p-8 text-center mt-4",children:e.jsxs("div",{className:"mx-auto flex flex-col items-center justify-center",children:[e.jsx(k,{className:"h-8 w-8 text-muted-foreground mb-2"}),e.jsx("h3",{className:"text-lg font-medium",children:"Upload Image"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Ideally, integrate a file upload component here."}),e.jsx(j,{disabled:!0,children:"Upload Image (Not Implemented)"})]})})]})]})}),e.jsx(g,{value:"quotes",className:"space-y-6",children:e.jsxs(o,{children:[e.jsxs(l,{className:"flex flex-row items-center justify-between",children:[e.jsx(c,{children:"Inspiring Quotes"}),e.jsxs(j,{size:"sm",disabled:!0,children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),"Add Quote (Not Implemented)"]})]}),e.jsx(d,{children:e.jsx("p",{className:"text-muted-foreground",children:"Quote management will be implemented here, connecting to the contentService."})})]})})]})})};export{de as default};
