import{E as i,e as c,r as l,j as e,U as s}from"./index-CEFGCZnp.js";import{L as m}from"./loader-circle-B1Pz0Ua7.js";const p=({children:n})=>{const{isAuthenticated:a,isLoading:o,needsTwoFactor:r}=i(),t=c();return l.useEffect(()=>{console.log("Protected Route Auth State:",{isAuthenticated:a,isLoading:o,needsTwoFactor:r,path:t.pathname})},[a,o,r,t.pathname]),o?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx(m,{className:"h-8 w-8 animate-spin text-primary"}),e.jsx("p",{className:"text-lg",children:"Loading authentication status..."})]})}):r?(console.log("2FA required, redirecting to verification page"),e.jsx(s,{to:"/admin/two-factor",state:{from:t.pathname},replace:!0})):a?(console.log("User authenticated, rendering protected content"),e.jsx(e.Fragment,{children:n})):(console.log("Not authenticated, redirecting to login page"),e.jsx(s,{to:"/admin/login",state:{from:t.pathname},replace:!0}))};export{p as default};
