import{J as z,r as c,j as e}from"./index-CEFGCZnp.js";import{A as Q}from"./AdminLayout-BFo7kI8c.js";import{B as n}from"./button-C58ynU3B.js";import{I as v}from"./input-DqKHY6Ez.js";import{T as R,a as J,b as A,c as p,d as _,e as m}from"./table-Ctc4k8fS.js";import{C as G,c as K,d as X,a as Y}from"./card-DsqFjwao.js";import{B as y}from"./badge-BQVUS7r0.js";import{D as N,b as S,c as D,d as k,e as T}from"./dialog-CF5yEXG4.js";import{L as f}from"./label-C9OSIm7g.js";import{S as L,a as U,b as F,c as O,d as j}from"./select-DAOFtx9-.js";import{C}from"./checkbox-HQlmdtsf.js";import{S as Z}from"./search-B6zhR9QM.js";import{P as ee}from"./plus-CZOBiviS.js";import{S as se}from"./square-pen-CxSvTE7a.js";import{T as te}from"./trash-2-PDkc7qqn.js";import"./index-CULbYOlY.js";import"./users-DLZwGyT7.js";import"./calendar-8sjuA-jc.js";import"./image-BSShWM4Y.js";import"./user-DmvOLSi9.js";import"./index-BdQq_4o_.js";import"./index-DdPWxvf5.js";import"./index-Cxzs49dU.js";import"./check-DnlIeJCj.js";const ae=[{id:1,title:"Task Manager Pro",category:"web",platforms:["web","ios","android"],status:"published",lastUpdated:"2025-04-15"},{id:2,title:"Design Portfolio",category:"web",platforms:["web"],status:"published",lastUpdated:"2025-04-10"},{id:3,title:"Fitness Tracker",category:"mobile",platforms:["ios","android"],status:"published",lastUpdated:"2025-04-05"},{id:4,title:"Language Learning App",category:"mobile",platforms:["ios","android"],status:"draft",lastUpdated:"2025-04-02"},{id:5,title:"Social Media Dashboard",category:"web",platforms:["web"],status:"published",lastUpdated:"2025-03-28"}],ke=()=>{const{toast:h}=z(),[o,g]=c.useState(ae),[b,P]=c.useState(""),[E,x]=c.useState(!1),[I,u]=c.useState(!1),[i,w]=c.useState(null),[t,r]=c.useState({title:"",category:"web",platforms:{web:!1,ios:!1,android:!1},status:"draft"}),B=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),M=s=>{const a=o.find(l=>l.id===s);a&&(w(a),r({title:a.title,category:a.category,platforms:{web:a.platforms.includes("web"),ios:a.platforms.includes("ios"),android:a.platforms.includes("android")},status:a.status}),x(!0))},V=s=>{const a=o.find(l=>l.id===s);a&&(w(a),u(!0))},H=()=>{w(null),r({title:"",category:"web",platforms:{web:!1,ios:!1,android:!1},status:"draft"}),x(!0)},W=()=>{const s=Object.entries(t.platforms).filter(([l,d])=>d).map(([l])=>l);if(!t.title){h({title:"Validation Error",description:"Title is required",variant:"destructive"});return}if(s.length===0){h({title:"Validation Error",description:"At least one platform must be selected",variant:"destructive"});return}const a=new Date().toISOString().slice(0,10);if(i){const l=o.map(d=>d.id===i.id?{...d,title:t.title,category:t.category,platforms:s,status:t.status,lastUpdated:a}:d);g(l),h({title:"Application Updated",description:`${t.title} has been updated successfully`})}else{const l={id:Math.max(0,...o.map(d=>d.id))+1,title:t.title,category:t.category,platforms:s,status:t.status,lastUpdated:a};g([...o,l]),h({title:"Application Added",description:`${t.title} has been added successfully`})}x(!1)},$=()=>{i&&(g(o.filter(s=>s.id!==i.id)),h({title:"Application Deleted",description:`${i.title} has been deleted`}),u(!1))},q=o.filter(s=>s.title.toLowerCase().includes(b.toLowerCase())||s.category.toLowerCase().includes(b.toLowerCase()));return e.jsxs(Q,{title:"Applications",children:[e.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4 justify-between",children:[e.jsxs("div",{className:"relative w-full sm:w-64",children:[e.jsx(Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(v,{placeholder:"Search applications...",className:"pl-10 w-full",value:b,onChange:s=>P(s.target.value)})]}),e.jsxs(n,{onClick:H,children:[e.jsx(ee,{className:"mr-2 h-4 w-4"}),"Add New Application"]})]}),e.jsxs(G,{children:[e.jsx(K,{className:"pb-3",children:e.jsx(X,{children:"Applications"})}),e.jsx(Y,{children:e.jsxs(R,{children:[e.jsx(J,{children:e.jsxs(A,{children:[e.jsx(p,{children:"Title"}),e.jsx(p,{children:"Category"}),e.jsx(p,{children:"Platforms"}),e.jsx(p,{children:"Status"}),e.jsx(p,{children:"Last Updated"}),e.jsx(p,{className:"text-right",children:"Actions"})]})}),e.jsx(_,{children:q.map(s=>e.jsxs(A,{children:[e.jsx(m,{className:"font-medium",children:s.title}),e.jsx(m,{children:e.jsx(y,{variant:"outline",children:s.category==="web"?"Web App":"Mobile App"})}),e.jsx(m,{children:e.jsx("div",{className:"flex gap-1",children:s.platforms.map((a,l)=>e.jsx(y,{variant:"secondary",className:"text-xs",children:a},l))})}),e.jsx(m,{children:e.jsx(y,{variant:s.status==="published"?"default":"outline",className:s.status==="draft"?"bg-yellow-100 text-yellow-800 hover:bg-yellow-100/80 dark:bg-yellow-900/30 dark:text-yellow-300":"",children:s.status})}),e.jsx(m,{children:B(s.lastUpdated)}),e.jsx(m,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsxs(n,{variant:"ghost",size:"icon",onClick:()=>M(s.id),children:[e.jsx(se,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Edit"})]}),e.jsxs(n,{variant:"ghost",size:"icon",onClick:()=>V(s.id),children:[e.jsx(te,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Delete"})]})]})})]},s.id))})]})})]}),e.jsx(N,{open:E,onOpenChange:x,children:e.jsxs(S,{className:"sm:max-w-md",children:[e.jsx(D,{children:e.jsx(k,{children:i?"Edit Application":"Add New Application"})}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(f,{htmlFor:"title",children:"Title"}),e.jsx(v,{id:"title",value:t.title,onChange:s=>r({...t,title:s.target.value}),placeholder:"Enter application title"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(f,{htmlFor:"category",children:"Category"}),e.jsxs(L,{value:t.category,onValueChange:s=>r({...t,category:s}),children:[e.jsx(U,{id:"category",children:e.jsx(F,{placeholder:"Select category"})}),e.jsxs(O,{children:[e.jsx(j,{value:"web",children:"Web App"}),e.jsx(j,{value:"mobile",children:"Mobile App"})]})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(f,{children:"Platforms"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(C,{id:"platform-web",checked:t.platforms.web,onCheckedChange:s=>r({...t,platforms:{...t.platforms,web:s}})}),e.jsx("label",{htmlFor:"platform-web",children:"Web"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(C,{id:"platform-ios",checked:t.platforms.ios,onCheckedChange:s=>r({...t,platforms:{...t.platforms,ios:s}})}),e.jsx("label",{htmlFor:"platform-ios",children:"iOS"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(C,{id:"platform-android",checked:t.platforms.android,onCheckedChange:s=>r({...t,platforms:{...t.platforms,android:s}})}),e.jsx("label",{htmlFor:"platform-android",children:"Android"})]})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(f,{htmlFor:"status",children:"Status"}),e.jsxs(L,{value:t.status,onValueChange:s=>r({...t,status:s}),children:[e.jsx(U,{id:"status",children:e.jsx(F,{placeholder:"Select status"})}),e.jsxs(O,{children:[e.jsx(j,{value:"draft",children:"Draft"}),e.jsx(j,{value:"published",children:"Published"})]})]})]})]}),e.jsxs(T,{children:[e.jsx(n,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),e.jsx(n,{onClick:W,children:"Save"})]})]})}),e.jsx(N,{open:I,onOpenChange:u,children:e.jsxs(S,{className:"sm:max-w-md",children:[e.jsx(D,{children:e.jsx(k,{children:"Confirm Deletion"})}),e.jsxs("p",{children:['Are you sure you want to delete "',i==null?void 0:i.title,'"? This action cannot be undone.']}),e.jsxs(T,{children:[e.jsx(n,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),e.jsx(n,{variant:"destructive",onClick:$,children:"Delete"})]})]})})]})};export{ke as default};
